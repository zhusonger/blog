---
title: 01:开发中碰到问题与解决
author: Zhusong
layout: post
footer: true
category: 高效编程
home_btn: true
btn_text: true
footer: true
maximize: true
date: 2020-2-13
excerpt: "01:开发中碰到问题与解决"
abstract: ""
---


# Jenkins找不到命令

## Q:
 * 找不到jekyll命令  

## A: 

> 因为jenkins默认是执行xe模式的shell, 可以看到log
> /bin/sh -xe /tmp/jenkins3955461468475838979.sh  
> 
```
#!/bin/bash -ilex
```
> 注意使用bash而不是sh
<https://blog.csdn.net/zzusimon/article/details/57080337>


# Jenkins执行Shell失败并停止

## Q:
Jenkins执行Shell命令标记为Failure, 命令行执行到某一行就停止
## A:
> Jenkins正在使用/bin/sh -xe默认情况下。-x意思是打印执行的每个命令。-e如果脚本中的任何命令失败，则意味着退出失败。
> 

 ```
停止进一步执行命令失败：

command || exit 0
	
若要在下列情况下继续执行命令失败：
	
command || true
 ```
<https://blog.csdn.net/qq_32706349/article/details/87926715>
<https://cloud.tencent.com/developer/ask/115620>

# Jenins 执行完Shell之后杀掉衍生进程

## Q:
Jenkins在执行完shll之后会杀死衍生进程

## A:
最简单的, 在shell加入  

```
BUILD_ID=donKillMe
```

<https://blog.csdn.net/qq_41154871/article/details/89714457>

# Mac安装Kies之后, 移除Kies, 扩展驱动未移除

## 移除步骤

* 首先查看运行中的非官方驱动

	```shell
	kextstat | grep -v com.apple
	```  
	
	![]({{site.assets_path}}/img/mac/kex_ext.png)
	
* 根据bundleid查找所在位置

	```shell
	# -b 代表bundleid
	kextfind -s -b com.devguru
	```	
	
	![]({{site.assets_path}}/img/mac/kex_ext_loc.png)

* unload已经加载的驱动

	```shell
	sudo kextunload -m com.devguru.driver.SamsungComposite -v 5
	sudo kextunload -m com.devguru.driver.SamsungMTP -v 5
	sudo kextunload -m com.devguru.driver.SamsungACMControl -v 5
	sudo kextunload -m com.devguru.driver.SamsungACMData -v 5
	sudo kextunload -b /System/Library/Extentions/ssuddrv.kext -v 5
	sudo kextunload -b /Library/Extentions/ssuddrv.kext -v 5
	```
	
* 移除ssuddrv.kext驱动

	```shell
	sudo rm -rf /Library/Extentions/ssuddrv.kext
	```
	
* 重新查看运行中的非官方驱动

	```shell
	kextstat | grep -v com.apple
	```  

## 其他
* 资料地址: <https://medium.com/@farazfazli/how-i-reverse-engineered-keis-and-sidesync-and-fixed-mtp-8949acbb1c29>
* 便捷脚本, [点击下载]({{site.assets_path}}/file/unload.sh)
